
<meta http-equiv="pragma" content="no-cache" />
<script>
   // Makes xmlhttp requests
    function makeRequestObject(){
      var xmlhttp=false; 
      try {
        xmlhttp = new ActiveXObject('Msxml2.XMLHTTP');
      } catch (e) {
        try {
           xmlhttp = new ActiveXObject('Microsoft.XMLHTTP'); 
        } catch (E) {
           xmlhttp = false;
        }
      }
      if (!xmlhttp && typeof XMLHttpRequest!='undefined') {
        xmlhttp = new XMLHttpRequest(); 
      }
      return xmlhttp;
    }
    
    function loadFridgeOrder() {
	  var xmlhttp=makeRequestObject();
	  var file = 'html/admin/admin.php?runFunction=getFridgeRequest';
	  xmlhttp.open('GET', file, true);
	  xmlhttp.onreadystatechange=function() {
        if (xmlhttp.readyState==4 && xmlhttp.status == 200) { 
            var content = xmlhttp.responseText; 
            if( content ){ 
			        console.log(content);	
              document.getElementById('info').innerHTML = content; 
            }
        }
      }
      xmlhttp.send(null); 			
    }

    function loadAdminOrder() {
      var xmlhttp=makeRequestObject();
      var file = 'html/admin/admin.php?runFunction=showDepletedIngredients';
      xmlhttp.open('GET', file, true);
      xmlhttp.onreadystatechange=function() {
        if (xmlhttp.readyState==4 && xmlhttp.status == 200) { 
            var content = xmlhttp.responseText; 
            if( content ){ 
              console.log(content); 
              document.getElementById('info').innerHTML = content; 
            }
        }
      }
      xmlhttp.send(null); 
    }
	
	function FreqRequested(){
	 var xmlhttp=makeRequestObject();
	  var file = 'html/admin/admin.php?runFunction=FreqRequested';
	  xmlhttp.open('GET', file, true);
	  xmlhttp.onreadystatechange=function() {
        if (xmlhttp.readyState==4 && xmlhttp.status == 200) { 
            var content = xmlhttp.responseText; 
            if( content ){ 
			console.log(content);	
            document.getElementById('info').innerHTML = content; 
              //jQuery('#btn-div').empty();
            }
        }
	}
	xmlhttp.send(null); 
	}

	function TopThree()
	{
	 var xmlhttp=makeRequestObject();
	  var file = 'html/admin/admin.php?runFunction=TopThree';
	  xmlhttp.open('GET', file, true);
	  xmlhttp.onreadystatechange=function() {
        if (xmlhttp.readyState==4 && xmlhttp.status == 200) { 
            var content = xmlhttp.responseText; 
            if( content ){ 
			console.log(content);	
            document.getElementById('info').innerHTML = content; 
              //jQuery('#btn-div').empty();
            }
        }
	  }
	   xmlhttp.send(null); 
	}

	function Expense()
	{console.log("hi");
	 var xmlhttp=makeRequestObject();
	  var file = 'html/admin/admin.php?runFunction=Expense';
	  xmlhttp.open('GET', file, true);
	  xmlhttp.onreadystatechange=function() {
        if (xmlhttp.readyState==4 && xmlhttp.status == 200) { 
            var content = xmlhttp.responseText; 
            if( content ){ 
			console.log(content);	
            document.getElementById('info').innerHTML = content; 
              //jQuery('#btn-div').empty();
            }
        }
	 }
	  xmlhttp.send(null); 
	}

	function showReportOptions() {
	document.getElementById('info').innerHTML = "<a class='btn btn-primary' onclick='TopThree()'>Show top three Ingredients</a><a class='btn btn-primary' onclick='Expense()'>Show Expense Report</a><a class='btn btn-primary' onclick='FreqRequested()'>Freq Requested Report</a>"; 
	}
  </script>

  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }

    iframe {
      border: solid 1px;
      border-radius: 8px;
      width: 80%;
      min-height: 80%;
      max-height: 80%;
      color: black;
      margin: 0 auto;
    }
  </style>

<body>
  <div class="text-center">
    <img class="img-circle"src = "html/images/admin.png"><img>
    <div class="panel panel-default padding">

    <p class="text-center" id ="info">
    Please select an option:
    </p>
    </div>
    <a class = "btn btn-primary text" id="AdminOrderBtn" onclick="loadAdminOrder()">Place Orders</a>
    <a class = "btn btn-primary text" id="ApproveOrders" onclick="loadFridgeOrder()">Approve Orders</a>
    <a class = "btn btn-primary text" id="Report" onclick="showReportOptions()">Report</a>
  </div>
</body>
